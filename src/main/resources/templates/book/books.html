<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Список книг</title>
</head>
<body>
<h1>Список книг</h1>

<a th:href="@{/books/new}">Добавить новую книгу</a>
<br/><br/>

<table border="1" cellpadding="8">
    <thead>
    <tr>
        <th>ID</th>
        <th>Название</th>
        <th>Автор</th>
        <th>Издательство</th>
        <th>Год</th>
        <th>Категория</th>
        <th>Доступно / Всего</th>
        <th>Действия</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="book : ${books}">
        <td th:text="${book.bookId}"></td>
        <td th:text="${book.title}"></td>
        <td th:text="${book.author}"></td>
        <td th:text="${book.publisher}"></td>
        <td th:text="${book.yearPublished}"></td>
        <td th:text="${book.category.categoryName}"></td>
        <td th:text="${book.availableCopies} + ' / ' + ${book.totalCopies}"></td>
        <td>
            <a th:href="@{'/books/' + ${book.bookId}}">Просмотр</a> |
            <a th:href="@{'/books/' + ${book.bookId} + '/edit'}">Редактировать</a> |
            <form th:action="@{'/books/' + ${book.bookId} + '/delete'}"
                  method="post"
                  style="display:inline">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <button type="submit" onclick="return confirm('Удалить книгу?')">Удалить</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>

<br/>
<a th:href="@{/}">На главную</a>
</body>
</html>
